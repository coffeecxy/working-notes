# embeded asm


一般情况下,写C代码的时候,我们不会嵌入汇编,但是在写系统内核的时候,有些时候还是需要嵌入汇编的.

C代码会被gcc先编译成.s代码,然后才会被as编译成.o文件.所以就可以在c代码中嵌入汇编代码,这样被嵌入的这部分汇编代码在这个.c 文件被编译成.s的时候就不会被编译了,而是直接放在相应的位置.

嵌入汇编的语法为

    asm("汇编语句"
        :输出寄存器
        :输入寄存器
        :会被修改的寄存器
    )

输出寄存器就是这段汇编代码运行完成之后,哪些寄存器会用来存放输出的结果.输入寄存就是会存放输入值的寄存器.会被改变的寄存器表示这里面列出的寄存器在我们的汇编语句中会被改变
